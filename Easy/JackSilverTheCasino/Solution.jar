import java.util.*;
import java.io.*;
import java.math.*;

/**
 * Auto-generated code below aims at helping you parse
 * the standard input according to the problem statement.
 **/
class Solution {

	public static void main(String args[]) {
		Scanner in = new Scanner(System.in);
		int ROUNDS = in.nextInt();
		int CASH = in.nextInt();
		if (in.hasNextLine()) {
			in.nextLine();
		}
		for (int i = 0; i < ROUNDS; i++) {
			String PLAY[] = in.nextLine().split(" ");
			int numberHit = Integer.parseInt(PLAY[0]);
			double test=(double)(CASH * 0.25);
			int cashToPlay;
			if(test > ( int)(test))cashToPlay=(int)test+1;
			else cashToPlay=(int) test;
			System.err.format("MATH Ceil : %s, double %s \n",cashToPlay,test);
		
			
			if (PLAY[1].equals("EVEN")) {

				

				if (numberHit % 2 == 0 && numberHit != 0) {
					CASH = CASH + cashToPlay;
				} else
					CASH = CASH - cashToPlay ;
			} else if (PLAY[1].equals("ODD")) {
				

				if (numberHit % 2 == 1 && numberHit != 0) {
					CASH = CASH + cashToPlay;
				} else
					CASH = CASH - cashToPlay ;

			} else {
				
				
				if (PLAY[0].equals(PLAY[2])) {

					CASH = CASH + (cashToPlay * 35);

				} else
					CASH = CASH - cashToPlay;

			}
			if(CASH==0)break;
		}

		System.out.println(CASH);
	}
}